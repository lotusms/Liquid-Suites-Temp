rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /subscribers/{subscriberId} {
      // Development/Test Mode: Allow writes without authentication
      // TODO: Update these rules for production!
      allow read, write: if true;
      
      // Production rules (commented out for now):
      // Allow create if phone is a valid string
      // allow create: if request.resource.data.phone is string && 
      //                  request.resource.data.phone.matches('^[0-9]{10}$');
      // 
      // Allow read/write only from authenticated users or server
      // allow read, write: if request.auth != null;
    }
  }
}

